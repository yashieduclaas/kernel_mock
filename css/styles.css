/* ============================================================
   styles.css — CLaaS2SaaS Kernel App
   Matching MVP Mockup v2 visual style
   ============================================================ */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Source+Sans+3:wght@300;400;500;600&display=swap');

:root {
    /* PRIMARY (10%) */
    --midnight: #193e6b;
    --gold: #B3A125;
    /* SECONDARY (30%) */
    --violet: #7F3F98;
    --jelly-blue: #448E9D;
    --sunray: #E9AC53;
    /* TERTIARY & NEUTRAL (60%) */
    --avocado: #5F8025;
    --violet-red: #991547;
    --beige: #EEE7E0;
    --white: #FFFFFF;
    --dark: #333333;

    /* Mapped aliases */
    --bg: var(--beige);
    --surface: var(--white);
    --accent: var(--gold);
    --primary: var(--midnight);
    --secondary: var(--jelly-blue);
    --success: var(--avocado);
    --warning: var(--sunray);
    --danger: var(--violet-red);

    --font-heading: 'Montserrat', sans-serif;
    --font-body: 'Source Sans 3', sans-serif;

    --header-height: 64px;
    --sidebar-width: 270px;
    --radius: 8px;
    --radius-lg: 12px;
    --shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
    --shadow-lg: 0 5px 20px rgba(0, 0, 0, 0.08);
}

/* Reset */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0
}

body {
    font-family: var(--font-body);
    background: var(--bg);
    color: var(--dark);
    line-height: 1.6;
    min-height: 100vh;
    overflow-x: hidden
}

a {
    color: var(--primary);
    text-decoration: none
}

input,
select,
textarea {
    font-family: var(--font-body);
    font-size: 14px;
    background: var(--white);
    color: var(--dark);
    border: 1px solid rgba(0, 0, 0, .12);
    border-radius: 6px;
    padding: 10px 14px;
    width: 100%;
    outline: none;
    transition: border .2s
}

input:focus,
select:focus,
textarea:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(179, 161, 37, .15)
}

input[readonly] {
    background: #f5f5f5;
    opacity: .7
}

select {
    cursor: pointer
}

textarea {
    resize: vertical
}

code {
    background: rgba(25, 62, 107, .06);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 13px;
    color: var(--primary)
}

/* Brand */
.brand-c,
.brand-l,
.brand-a1,
.brand-a2,
.brand-s1 {
    color: var(--white);
    font-weight: 700;
    font-size: 1.1rem;
    font-family: var(--font-heading)
}

.brand-2 {
    color: var(--accent);
    font-weight: 700;
    font-size: 1.3rem;
    font-family: var(--font-heading)
}

.brand-s2,
.brand-a3,
.brand-a4,
.brand-s3 {
    color: var(--accent);
    font-weight: 700;
    font-size: 1.1rem;
    font-family: var(--font-heading)
}

.nav-brand {
    cursor: pointer;
    user-select: none;
    letter-spacing: .5px;
    white-space: nowrap
}

/* ========== LOGIN ========== */
.login-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden
}

.login-bg {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #112c4e 0%, var(--midnight) 50%, #1f4d82 100%);
    z-index: 0
}

.geo-shape {
    position: absolute;
    border: 2px solid rgba(179, 161, 37, .2);
    z-index: 1
}

.shape-1 {
    width: 80px;
    height: 80px;
    top: 10%;
    left: 5%;
    transform: rotate(45deg);
    border-radius: 8px
}

.shape-2 {
    width: 120px;
    height: 120px;
    top: 20%;
    right: 10%;
    transform: rotate(15deg);
    border-radius: 12px;
    border-color: rgba(179, 161, 37, .3)
}

.shape-3 {
    width: 40px;
    height: 40px;
    bottom: 30%;
    left: 15%;
    border-radius: 50%
}

.shape-4 {
    width: 60px;
    height: 60px;
    top: 60%;
    right: 20%;
    transform: rotate(30deg)
}

.shape-5 {
    width: 100px;
    height: 100px;
    bottom: 10%;
    right: 5%;
    transform: rotate(-20deg);
    border-radius: 10px
}

.shape-6 {
    width: 30px;
    height: 30px;
    top: 15%;
    left: 40%;
    border-radius: 50%;
    border-color: rgba(179, 161, 37, .15)
}

.shape-7 {
    width: 50px;
    height: 50px;
    bottom: 20%;
    left: 40%;
    transform: rotate(45deg)
}

.shape-8 {
    width: 70px;
    height: 70px;
    top: 40%;
    left: 10%;
    border-radius: 10px;
    transform: rotate(-15deg);
    border-color: rgba(179, 161, 37, .25)
}

.login-brand {
    position: absolute;
    top: 24px;
    left: 32px;
    z-index: 2
}

.login-brand .brand-c,
.login-brand .brand-l,
.login-brand .brand-a1,
.login-brand .brand-a2,
.login-brand .brand-s1 {
    font-size: 1.4rem
}

.login-brand .brand-2 {
    font-size: 1.6rem
}

.login-brand .brand-s2,
.login-brand .brand-a3,
.login-brand .brand-a4,
.login-brand .brand-s3 {
    font-size: 1.4rem
}

.login-card {
    position: relative;
    z-index: 2;
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 40px;
    width: 420px;
    max-width: 90vw;
    box-shadow: 0 20px 60px rgba(0, 0, 0, .25);
    color: var(--dark)
}

.login-card-header {
    text-align: center;
    margin-bottom: 28px
}

.login-icon {
    font-size: 2.5rem;
    color: var(--accent);
    margin-bottom: 12px
}

.login-card-header h2 {
    font-size: 1.3rem;
    color: var(--primary);
    font-family: var(--font-heading);
    font-weight: 600
}

.login-subtitle {
    color: #666;
    font-size: .85rem
}

.login-users {
    display: flex;
    flex-direction: column;
    gap: 10px
}

.login-user-btn {
    display: flex;
    align-items: center;
    gap: 14px;
    background: var(--beige);
    border: 1px solid rgba(0, 0, 0, .08);
    border-radius: var(--radius);
    padding: 14px 16px;
    cursor: pointer;
    transition: all .2s;
    color: var(--dark);
    width: 100%;
    text-align: left
}

.login-user-btn:hover {
    border-color: var(--accent);
    background: rgba(179, 161, 37, .08);
    transform: translateY(-1px)
}

.login-user-btn .fa-arrow-right {
    color: #999;
    margin-left: auto
}

.login-user-avatar {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: var(--accent);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: .85rem;
    flex-shrink: 0;
    font-family: var(--font-heading)
}

.login-user-info {
    display: flex;
    flex-direction: column
}

.login-user-name {
    font-weight: 600;
    font-size: .95rem;
    color: var(--primary);
    font-family: var(--font-heading)
}

.login-user-email {
    color: #666;
    font-size: .8rem
}

.login-user-role {
    color: #999;
    font-size: .75rem;
    margin-top: 2px
}

.login-footer {
    text-align: center;
    margin-top: 24px;
    color: #999;
    font-size: .8rem
}

/* ========== TOP NAVBAR — Power Apps / Entra style ========== */
.top-nav {
    height: var(--header-height);
    background: var(--primary);
    color: var(--white);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 16px;
    position: sticky;
    top: 0;
    z-index: 1000;
    gap: 12px
}

/* ---- Left section ---- */
.nav-left {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-shrink: 0
}

/* Waffle (9-dot grid) */
.nav-waffle-btn {
    background: none;
    border: none;
    color: rgba(255, 255, 255, .85);
    cursor: pointer;
    padding: 8px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background .2s
}

.nav-waffle-btn:hover {
    background: rgba(255, 255, 255, .12)
}

/* Context label (ECC / Kernel) */
.nav-context-label {
    color: rgba(255, 255, 255, .88);
    font-size: .88rem;
    font-weight: 500;
    font-family: var(--font-heading);
    white-space: nowrap
}

.nav-separator {
    color: rgba(255, 255, 255, .3);
    font-size: 1.2rem;
    margin: 0 2px
}

/* ---- Centered search bar (white) ---- */
.nav-search-wrapper {
    flex: 1;
    display: flex;
    justify-content: center;
    padding: 0 20px
}

.nav-search-bar {
    width: 100%;
    max-width: 520px;
    position: relative;
    display: flex;
    align-items: center;
    background: var(--white);
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, .08);
    overflow: hidden
}

.nav-search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: #888;
    font-size: .9rem;
    pointer-events: none
}

.nav-search-input {
    flex: 1;
    padding: 9px 14px 9px 40px;
    border: none;
    background: transparent;
    color: var(--dark);
    font-size: .88rem;
    font-family: var(--font-body);
    outline: none
}

.nav-search-input::placeholder {
    color: #999
}

.nav-search-input:focus {
    box-shadow: inset 0 0 0 2px rgba(25, 62, 107, .2)
}

/* Role badge inside search bar */
.nav-search-role-badge {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 5px 14px;
    margin: 4px 4px 4px 0;
    background: #f0f2f5;
    border: 1px solid #e0e3e8;
    border-radius: 16px;
    font-size: .76rem;
    font-weight: 500;
    color: #555;
    white-space: nowrap;
    font-family: var(--font-heading)
}

.nav-search-role-badge i {
    font-size: .72rem;
    color: #888
}

/* ---- Right section ---- */
.nav-right {
    display: flex;
    align-items: center;
    gap: 4px;
    flex-shrink: 0
}

/* Environment banner (blends into header — no bg) */
.nav-env-banner {
    display: flex;
    align-items: center;
    gap: 10px;
    background: none;
    border: none;
    padding: 6px 12px;
    cursor: pointer;
    margin-right: 6px;
    border-radius: 4px;
    transition: background .2s
}

.nav-env-banner:hover {
    background: rgba(255, 255, 255, .1)
}

.nav-env-icon {
    font-size: 1.05rem;
    color: rgba(255, 255, 255, .7);
    flex-shrink: 0
}

.nav-env-text {
    display: flex;
    flex-direction: column
}

.nav-env-label {
    font-size: .62rem;
    color: rgba(255, 255, 255, .55);
    font-weight: 600;
    line-height: 1.2;
    text-transform: uppercase;
    letter-spacing: .3px
}

.nav-env-name {
    font-size: .82rem;
    color: var(--white);
    font-weight: 500;
    font-family: var(--font-heading);
    white-space: nowrap;
    line-height: 1.3
}

/* ---- Environment selection panel (Power Apps style) ---- */
.env-panel {
    position: fixed;
    top: var(--header-height);
    right: 0;
    width: 380px;
    height: calc(100vh - var(--header-height));
    background: var(--white);
    box-shadow: -4px 0 24px rgba(0, 0, 0, .15);
    z-index: 1500;
    display: flex;
    flex-direction: column;
    animation: envSlideIn .2s ease-out
}

@keyframes envSlideIn {
    from {
        transform: translateX(100%);
        opacity: 0
    }

    to {
        transform: translateX(0);
        opacity: 1
    }
}

.env-panel.d-none {
    display: none !important
}

.env-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 24px 4px
}

.env-panel-header h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--dark);
    font-family: var(--font-heading);
    margin: 0
}

.env-panel-close {
    background: none;
    border: none;
    font-size: 1rem;
    color: #666;
    cursor: pointer;
    padding: 6px;
    border-radius: 4px;
    transition: background .15s
}

.env-panel-close:hover {
    background: rgba(0, 0, 0, .06)
}

.env-panel-desc {
    padding: 8px 24px 14px;
    font-size: .84rem;
    color: var(--muted);
    line-height: 1.5;
    margin: 0
}

.env-learn-more {
    color: #0078d4;
    text-decoration: none;
    font-size: .82rem
}

.env-learn-more:hover {
    text-decoration: underline
}

.env-panel-search {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 0 24px 16px;
    position: relative
}

.env-panel-search i {
    position: absolute;
    left: 36px;
    color: #888;
    font-size: .82rem
}

.env-panel-search input {
    flex: 1;
    padding: 8px 12px 8px 32px;
    border: 1px solid #d0d4da;
    border-radius: 4px;
    font-size: .84rem;
    outline: none;
    transition: border-color .2s
}

.env-panel-search input:focus {
    border-color: #0078d4
}

.env-filter-btn {
    display: flex;
    align-items: center;
    gap: 5px;
    background: none;
    border: 1px solid #d0d4da;
    color: #0078d4;
    padding: 7px 14px;
    border-radius: 4px;
    font-size: .82rem;
    cursor: pointer;
    font-weight: 500;
    white-space: nowrap;
    transition: background .15s
}

.env-filter-btn:hover {
    background: rgba(0, 120, 212, .06)
}

/* Env accordion */
.env-accordion {
    flex: 1;
    overflow-y: auto;
    padding: 0 24px
}

.env-acc-group {
    margin-bottom: 2px
}

.env-acc-header {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    background: none;
    border: none;
    border-bottom: 1px solid #eee;
    padding: 12px 4px;
    font-size: .88rem;
    font-weight: 600;
    color: var(--dark);
    cursor: pointer;
    text-align: left;
    font-family: var(--font-heading)
}

.env-acc-header:hover {
    background: rgba(0, 0, 0, .02)
}

.env-acc-chevron {
    font-size: .65rem;
    transition: transform .2s;
    color: #888
}

.env-acc-header.open .env-acc-chevron {
    transform: rotate(90deg)
}

.env-acc-body {
    display: none;
    padding: 4px 0 8px 20px
}

.env-acc-header.open+.env-acc-body {
    display: block
}

.env-acc-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 4px;
    font-size: .85rem;
    color: var(--dark);
    cursor: pointer;
    transition: background .15s
}

.env-acc-item:hover {
    background: rgba(0, 0, 0, .04)
}

.env-acc-item.active {
    background: rgba(0, 120, 212, .06)
}

.env-check {
    color: #0078d4;
    font-size: .8rem
}

/* ---- Icon buttons ---- */
.nav-icon-btn {
    background: none;
    border: none;
    color: rgba(255, 255, 255, .85);
    font-size: 1.05rem;
    cursor: pointer;
    padding: 8px;
    border-radius: 4px;
    position: relative;
    transition: background .2s
}

.nav-icon-btn:hover {
    background: rgba(255, 255, 255, .12);
    color: var(--white)
}

.badge-dot {
    position: absolute;
    top: 2px;
    right: 2px;
    background: var(--danger);
    color: white;
    font-size: .55rem;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    border: 2px solid var(--primary)
}

/* ---- User avatar ---- */
.nav-user {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 4px;
    border-radius: 50%;
    transition: background .2s;
    position: relative;
    margin-left: 4px
}

.nav-user:hover {
    background: rgba(255, 255, 255, .12)
}

.user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--accent);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: .78rem;
    font-family: var(--font-heading)
}

/* ---- User dropdown ---- */
.user-dropdown {
    position: absolute;
    top: calc(var(--header-height) - 4px);
    right: 16px;
    background: var(--white);
    border-radius: 8px;
    min-width: 260px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, .18);
    z-index: 2000;
    overflow: hidden
}

.dropdown-user-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 18px;
    background: rgba(25, 62, 107, .04)
}

.dropdown-avatar {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: var(--accent);
    color: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: .85rem;
    font-family: var(--font-heading);
    flex-shrink: 0
}

.dropdown-user-info {
    display: flex;
    flex-direction: column
}

.dropdown-user-name {
    font-size: .9rem;
    font-weight: 600;
    color: var(--dark);
    font-family: var(--font-heading)
}

.dropdown-user-role {
    font-size: .75rem;
    color: var(--muted)
}

.dropdown-divider {
    height: 1px;
    background: rgba(0, 0, 0, .08)
}

.user-dropdown button {
    display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    background: none;
    border: none;
    color: var(--dark);
    padding: 11px 18px;
    cursor: pointer;
    font-size: .84rem;
    text-align: left;
    transition: background .15s
}

.user-dropdown button:hover {
    background: rgba(25, 62, 107, .06)
}

/* ========== APP BODY ========== */
.app-body {
    display: flex;
    height: calc(100vh - var(--header-height))
}

/* ========== SIDEBAR — Entra-style Accordion + Icon Rail ========== */
.left-sidebar {
    width: var(--sidebar-width);
    background: var(--surface);
    border-right: 1px solid rgba(0, 0, 0, .08);
    overflow-x: hidden;
    overflow-y: auto;
    flex-shrink: 0;
    transition: width .28s cubic-bezier(.4, 0, .2, 1);
    box-shadow: 1px 0 3px rgba(0, 0, 0, .05);
    display: flex;
    flex-direction: column;
    position: relative
}

.left-sidebar.collapsed {
    width: 64px
}

/* ---- Scrollbar (thin, Entra-like) ---- */
.left-sidebar::-webkit-scrollbar {
    width: 4px
}

.left-sidebar::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, .12);
    border-radius: 4px
}

/* ---- Accordion nav container ---- */
.sidebar-nav-accordion {
    padding: 6px 0;
    flex: 1
}

/* ---- Nav group ---- */
.nav-group {
    margin: 0
}

/* ==========================
   PARENT ROW
========================== */
.nav-parent {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 12px 18px;
    cursor: pointer;
    color: var(--primary);
    font-weight: 600;
    font-size: 14px;
    font-family: var(--font-heading);
    transition: background .15s ease;
    user-select: none;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    position: relative
}

.nav-parent:hover {
    background: rgba(0, 0, 0, .04)
}

.nav-parent:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: -2px;
    border-radius: 4px
}

/* ---- Parent icon ---- */
.nav-icon {
    width: 22px;
    height: 22px;
    color: var(--primary);
    flex-shrink: 0
}

/* ---- Label text ---- */
.nav-short-label {
    font-weight: 700;
    font-size: 15px;
    color: var(--primary);
    white-space: nowrap;
    flex-shrink: 0
}

.nav-text {
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: opacity .2s ease
}

/* ---- Chevron ---- */
.chevron {
    margin-left: auto;
    display: flex;
    align-items: center;
    transition: transform .25s ease;
    color: var(--primary);
    opacity: .45
}

.nav-group.open .chevron {
    transform: rotate(90deg)
}

/* ==========================
   CHILDREN CONTAINER
========================== */
.nav-children {
    max-height: 0;
    overflow: hidden;
    transition: max-height .28s cubic-bezier(.4, 0, .2, 1)
}

.nav-group.open .nav-children {
    max-height: 600px
}

/* ==========================
   CHILD ROW
========================== */
.nav-child {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 9px 18px 9px 56px;
    font-size: 13.5px;
    cursor: pointer;
    color: var(--primary);
    border-left: 3px solid transparent;
    transition: background .15s ease, border-color .15s ease;
    font-family: var(--font-body);
    position: relative
}

.nav-child:hover {
    background: rgba(0, 0, 0, .04)
}

.nav-child:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: -2px;
    border-radius: 4px
}

/* Active child — gold accent */
.nav-child.active {
    background: rgba(179, 161, 37, .1);
    border-left-color: var(--accent);
    font-weight: 600
}

/* ---- Child icon ---- */
.nav-child-icon {
    width: 18px;
    height: 18px;
    color: var(--primary);
    flex-shrink: 0;
    opacity: .65
}

.nav-child.active .nav-child-icon {
    opacity: 1;
    color: var(--accent)
}

/* ---- Child text ---- */
.nav-child-text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    transition: opacity .2s ease
}

/* ---- Divider ---- */
.nav-divider {
    height: 1px;
    background: rgba(0, 0, 0, .06);
    margin: 4px 14px
}

/* ==========================
   COLLAPSED MODE — ICON RAIL
   Critical: child icons of the
   open group stay visible
========================== */

/* Hide text & chevron */
.left-sidebar.collapsed .nav-text,
.left-sidebar.collapsed .nav-short-label,
.left-sidebar.collapsed .chevron {
    opacity: 0;
    width: 0;
    overflow: hidden;
    margin: 0;
    padding: 0;
    pointer-events: none;
    position: absolute
}

.left-sidebar.collapsed .nav-child-text {
    opacity: 0;
    width: 0;
    overflow: hidden;
    position: absolute;
    pointer-events: none
}

/* Parent: center icon */
.left-sidebar.collapsed .nav-parent {
    justify-content: center;
    padding: 12px 0;
    gap: 0
}

/* Children of NON-open groups: hide */
.left-sidebar.collapsed .nav-group:not(.open) .nav-children {
    max-height: 0 !important;
    overflow: hidden
}

/* Children of OPEN group: show (icons only) */
.left-sidebar.collapsed .nav-group.open .nav-children {
    max-height: 600px
}

/* Child in collapsed mode: center icon, tighter padding */
.left-sidebar.collapsed .nav-child {
    justify-content: center;
    padding: 10px 0;
    gap: 0;
    border-left: 3px solid transparent
}

.left-sidebar.collapsed .nav-child.active {
    border-left-color: var(--accent);
    background: rgba(179, 161, 37, .1)
}

/* Make child icon slightly larger in rail */
.left-sidebar.collapsed .nav-child-icon {
    width: 20px;
    height: 20px
}

/* Divider in collapsed */
.left-sidebar.collapsed .nav-divider {
    margin: 4px 8px
}

/* ==========================
   TOOLTIPS (CSS-only)
   Shown only in collapsed mode
========================== */
.left-sidebar.collapsed [data-tooltip] {
    position: relative
}

.left-sidebar.collapsed [data-tooltip]::after {
    content: attr(data-tooltip);
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    margin-left: 8px;
    background: var(--primary);
    color: var(--white);
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-family: var(--font-body);
    font-weight: 500;
    white-space: nowrap;
    pointer-events: none;
    opacity: 0;
    transition: opacity .15s ease;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .15)
}

.left-sidebar.collapsed [data-tooltip]::before {
    content: '';
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    border: 5px solid transparent;
    border-right-color: var(--primary);
    margin-left: -2px;
    pointer-events: none;
    opacity: 0;
    transition: opacity .15s ease;
    z-index: 1000
}

.left-sidebar.collapsed [data-tooltip]:hover::after,
.left-sidebar.collapsed [data-tooltip]:hover::before {
    opacity: 1
}

/* ==========================
   COLLAPSE BUTTON
========================== */
.sidebar-collapse-btn {
    position: sticky;
    bottom: 0;
    width: 100%;
    padding: 10px;
    border: none;
    border-top: 1px solid rgba(0, 0, 0, .06);
    background: var(--surface);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary);
    transition: background .15s ease
}

.sidebar-collapse-btn:hover {
    background: rgba(0, 0, 0, .04)
}

.sidebar-collapse-btn:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: -2px
}

.sidebar-collapse-btn svg {
    transition: transform .28s cubic-bezier(.4, 0, .2, 1)
}

.left-sidebar.collapsed .sidebar-collapse-btn svg {
    transform: rotate(180deg)
}

/* Center Stage */
.center-stage {
    flex: 1;
    overflow-y: auto;
    padding: 0;
    background: var(--bg)
}

/* ========== ECC PAGE ========== */
.ecc-main {
    flex: 1;
    padding: 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100%
}

.ecc-header {
    text-align: center;
    margin-bottom: 28px
}

.ecc-header h1 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
    font-family: var(--font-heading)
}

.ecc-header p {
    color: #666;
    font-size: 1rem;
    font-family: var(--font-body)
}

.gold {
    color: var(--accent)
}

.ecc-search-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--white);
    border: 1px solid rgba(0, 0, 0, .1);
    border-radius: 6px;
    padding: 10px 16px;
    margin-bottom: 28px;
    width: 100%;
    max-width: 500px;
    box-shadow: var(--shadow)
}

.ecc-search-bar i {
    color: #999
}

.ecc-search-bar input {
    border: none;
    background: none;
    padding: 4px;
    font-size: 14px
}

.ecc-search-bar input:focus {
    box-shadow: none
}

.ecc-user-badge {
    background: rgba(25, 62, 107, .08);
    color: var(--primary);
    padding: 4px 10px;
    border-radius: 20px;
    font-size: .75rem;
    white-space: nowrap;
    font-family: var(--font-heading);
    font-weight: 500
}

.ecc-modules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 16px;
    max-width: 700px;
    width: 100%
}

.ecc-module-card {
    background: var(--surface);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    padding: 20px 12px;
    text-align: center;
    cursor: default;
    transition: all .3s;
    position: relative;
    opacity: .55;
    box-shadow: var(--shadow)
}

.ecc-module-card.kernel-card {
    opacity: 1;
    cursor: pointer;
    border-color: rgba(25, 62, 107, .15)
}

.ecc-module-card.kernel-card:hover {
    transform: translateY(-6px);
    box-shadow: var(--shadow-lg);
    border-color: rgba(25, 62, 107, .25)
}

.module-card-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
    color: var(--primary)
}

.module-card-icon svg {
    width: 40px;
    height: 40px
}

.ecc-module-card.kernel-card .module-card-icon {
    color: var(--accent)
}

.module-card-name {
    font-size: 13px;
    font-weight: 600;
    color: var(--primary);
    font-family: var(--font-heading)
}

.module-card-badge {
    position: absolute;
    top: 8px;
    right: 8px;
    background: var(--accent);
    color: var(--white);
    font-size: 11px;
    padding: 2px 8px;
    border-radius: 10px;
    font-weight: 600;
    font-family: var(--font-heading)
}

.module-card-badge.locked {
    background: rgba(0, 0, 0, .06);
    color: #999
}

/* ========== KERNEL DASHBOARD ========== */
.kernel-dashboard {
    padding: 0
}

.dashboard-content {
    padding: 48px 40px;
    max-width: 900px;
    margin: 0 auto;
    text-align: center
}

.dashboard-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
    font-family: var(--font-heading);
    margin-bottom: 12px
}

.dashboard-desc {
    color: #666;
    margin-bottom: 48px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
    font-size: 16px
}

.dashboard-cards {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
    margin-bottom: 40px
}

.dashboard-card {
    background: var(--surface);
    border: 2px solid transparent;
    border-radius: var(--radius-lg);
    padding: 35px 25px;
    text-align: center;
    cursor: pointer;
    transition: all .3s;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow)
}

.dashboard-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-lg);
    border-color: rgba(25, 62, 107, .1)
}

.card-accent {
    height: 5px;
    position: absolute;
    top: 0;
    left: 0;
    right: 0
}

.scc-accent {
    background: var(--violet)
}

.acc-accent {
    background: var(--jelly-blue)
}

.hd-accent {
    background: var(--sunray)
}

.dashboard-card:hover .card-accent {
    height: 8px
}

.card-icon {
    font-size: 48px;
    margin-bottom: 20px;
    transition: transform .3s
}

.dashboard-card:hover .card-icon {
    transform: scale(1.1)
}

.scc-card .card-icon {
    color: var(--violet)
}

.acc-card .card-icon {
    color: var(--jelly-blue)
}

.hd-card .card-icon {
    color: var(--sunray)
}

.dashboard-card h2 {
    font-size: 1.15rem;
    margin-bottom: 10px;
    color: var(--primary);
    font-family: var(--font-heading);
    font-weight: 600
}

.dashboard-card p {
    color: #666;
    font-size: 14px;
    line-height: 1.5;
    max-width: 200px;
    margin: 0 auto
}

.dashboard-stats {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px
}

.stat-card {
    background: var(--surface);
    border-radius: var(--radius);
    padding: 25px;
    text-align: center;
    box-shadow: var(--shadow);
    border-top: 4px solid var(--secondary)
}

.stat-number {
    font-size: 32px;
    font-weight: 700;
    color: var(--primary);
    font-family: var(--font-heading)
}

.stat-label {
    color: #666;
    font-size: 14px;
    margin-top: 4px
}

/* ========== FEATURE PAGES ========== */
.feature-page {
    display: flex;
    flex-direction: column
}

/* Tab bar REMOVED — no .tab-bar styles needed */
.page-content {
    padding: 30px;
    flex: 1;
    overflow-y: auto;
    background: var(--bg)
}

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 24px
}

.page-header h1 {
    font-size: 24px;
    font-weight: 600;
    color: var(--primary);
    font-family: var(--font-heading)
}

.page-subtitle {
    color: #666;
    font-size: 15px;
    margin-top: 4px
}

/* Buttons (mockup style) */
.btn-primary {
    background: var(--primary);
    color: var(--white);
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    font-size: 14px;
    transition: all .2s;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: var(--font-heading)
}

.btn-primary:hover {
    background: #142a53;
    transform: translateY(-1px)
}

.btn-secondary {
    background: rgba(0, 0, 0, .05);
    color: #555;
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: all .2s;
    font-family: var(--font-heading)
}

.btn-secondary:hover {
    background: rgba(0, 0, 0, .1)
}

.btn-accent {
    background: var(--secondary);
    color: var(--white);
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    font-size: 14px;
    transition: all .2s;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: var(--font-heading)
}

.btn-accent:hover {
    background: #3a7d8a
}

.btn-manage {
    background: rgba(68, 142, 157, .1);
    color: var(--secondary);
    border: 1px solid var(--secondary);
    padding: 6px 14px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    transition: all .2s;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-family: var(--font-heading)
}

.btn-manage:hover {
    background: var(--secondary);
    color: var(--white)
}

/* Filter Tabs */
.filter-tabs {
    display: flex;
    align-items: center;
    gap: 4px;
    background: rgba(0, 0, 0, .04);
    border-radius: 10px;
    padding: 4px;
    width: fit-content;
    margin-bottom: 16px
}

.filter-btn {
    display: flex;
    align-items: center;
    gap: 7px;
    background: none;
    border: none;
    color: #777;
    padding: 7px 16px;
    border-radius: 7px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
    font-family: var(--font-heading);
    transition: all .18s;
    white-space: nowrap
}

.filter-btn:hover {
    color: var(--primary);
    background: rgba(255, 255, 255, .7)
}

.filter-btn.active {
    background: var(--white);
    color: var(--primary);
    box-shadow: 0 1px 4px rgba(0, 0, 0, .1);
    font-weight: 600
}

.filter-btn.active i {
    color: var(--jelly-blue)
}

/* Data Tables (mockup style) */
.data-table-wrapper {
    background: var(--surface);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow);
    padding: 25px
}

.table-toolbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px
}

.table-title {
    font-weight: 600;
    font-size: 18px;
    color: var(--primary);
    font-family: var(--font-heading)
}

.table-count {
    color: #888;
    font-size: 13px
}

.search-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px
}

.search-bar i {
    color: #999
}

.search-bar input {
    border: 1px solid rgba(0, 0, 0, .1);
    border-radius: 6px;
    padding: 10px 14px 10px 14px;
    font-size: 14px
}

.search-bar input:focus {
    box-shadow: 0 0 0 3px rgba(179, 161, 37, .15)
}

.filter-pills {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
    flex-wrap: wrap
}

.pill {
    background: transparent;
    border: none;
    color: #666;
    padding: 8px 16px;
    border-radius: 6px 6px 0 0;
    font-size: 14px;
    cursor: pointer;
    transition: all .2s;
    font-family: var(--font-heading);
    font-weight: 500
}

.pill:hover {
    background: rgba(25, 62, 107, .05);
    color: var(--primary)
}

.pill.active {
    background: var(--surface);
    color: var(--primary);
    border-bottom: 3px solid var(--secondary)
}

.pill.success-pill.active {
    border-bottom-color: var(--success)
}

.pill.danger-pill.active {
    border-bottom-color: var(--danger)
}

.pill.info-pill.active {
    border-bottom-color: var(--secondary)
}

.data-table {
    width: 100%;
    border-collapse: collapse
}

.data-table thead {
    background: rgba(0, 0, 0, .02)
}

.data-table th {
    padding: 15px 12px;
    text-align: left;
    font-size: 14px;
    color: var(--primary);
    font-weight: 600;
    border-bottom: 2px solid rgba(0, 0, 0, .1);
    font-family: var(--font-heading)
}

.data-table td {
    padding: 15px 12px;
    font-size: 14px;
    border-bottom: 1px solid rgba(0, 0, 0, .05);
    color: var(--dark)
}

.data-table tbody tr:hover {
    background: rgba(0, 0, 0, .02)
}

.desc-cell {
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: #666
}

.email-cell {
    color: var(--secondary);
    font-size: 14px
}

.text-muted {
    color: #888
}

.text-danger {
    color: var(--danger)
}

.text-info {
    color: var(--secondary)
}

.table-footer {
    padding: 12px 0;
    color: #888;
    font-size: 13px;
    border-top: 1px solid rgba(0, 0, 0, .06);
    margin-top: 8px
}

/* Badges */
.code-badge {
    background: rgba(25, 62, 107, .08);
    color: var(--primary);
    padding: 3px 10px;
    border-radius: 4px;
    font-size: 13px;
    font-weight: 600;
    font-family: var(--font-heading)
}

.code-badge.module-code {
    color: var(--secondary);
    background: rgba(68, 142, 157, .08)
}

.version-badge {
    background: rgba(179, 161, 37, .1);
    color: var(--accent);
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    font-family: var(--font-heading)
}

.status-badge {
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-family: var(--font-heading)
}

.status-badge.active {
    background: rgba(95, 128, 37, .1);
    color: var(--success)
}

.status-badge.inactive {
    background: rgba(153, 21, 71, .1);
    color: var(--danger)
}

.status-badge.warning {
    background: rgba(233, 172, 83, .1);
    color: var(--warning)
}

.role-badge {
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 600;
    font-family: var(--font-heading)
}

.role-badge.role-admin {
    background: rgba(153, 21, 71, .1);
    color: var(--danger)
}

.role-badge.role-global_admin {
    background: rgba(153, 21, 71, .15);
    color: var(--danger)
}

.role-badge.role-collaborator {
    background: rgba(68, 142, 157, .1);
    color: var(--secondary)
}

.role-badge.role-contributor {
    background: rgba(95, 128, 37, .1);
    color: var(--success)
}

.role-badge.role-viewer {
    background: rgba(179, 161, 37, .1);
    color: var(--accent)
}

.type-badge {
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 500;
    font-family: var(--font-heading)
}

.type-badge.system {
    background: rgba(68, 142, 157, .1);
    color: var(--secondary)
}

.type-badge.custom {
    background: rgba(233, 172, 83, .1);
    color: var(--warning)
}

.action-badge {
    background: rgba(25, 62, 107, .06);
    color: var(--primary);
    padding: 4px 10px;
    border-radius: 4px;
    font-size: 13px;
    font-family: var(--font-heading)
}

.link-btn {
    color: var(--secondary);
    font-size: 14px
}

/* Icon buttons */
.icon-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 6px 8px;
    border-radius: 4px;
    transition: all .2s;
    font-size: 14px
}

.icon-btn.edit {
    color: #999
}

.icon-btn.edit:hover {
    color: var(--primary);
    background: rgba(25, 62, 107, .06)
}

.icon-btn.delete {
    color: #999
}

.icon-btn.delete:hover {
    color: var(--danger);
    background: rgba(153, 21, 71, .06)
}

.actions-cell {
    white-space: nowrap
}

/* Permissions */
.perm-yes {
    color: var(--success);
    font-size: 1rem
}

.perm-no {
    color: var(--danger);
    font-size: .9rem;
    opacity: .35
}

.perm-info {
    margin-bottom: 16px;
    color: #666;
    font-size: 14px
}

.perm-table td,
.perm-table th {
    text-align: center;
    padding: 10px 12px
}

/* Audit tabs */
.audit-tabs {
    display: flex;
    gap: 5px;
    margin-bottom: 20px;
    border-bottom: 1px solid rgba(0, 0, 0, .08);
    padding-bottom: 10px
}

.audit-tab {
    background: transparent;
    border: none;
    color: #666;
    padding: 10px 20px;
    border-radius: 6px 6px 0 0;
    cursor: pointer;
    font-size: 14px;
    transition: all .2s;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-family: var(--font-heading);
    font-weight: 500
}

.audit-tab:hover {
    background: rgba(25, 62, 107, .05);
    color: var(--primary)
}

.audit-tab.active {
    background: var(--white);
    color: var(--primary);
    border-bottom: 3px solid var(--secondary)
}

/* ========== FORMS ========== */
.form-grid {
    display: flex;
    flex-direction: column;
    gap: 16px
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 6px
}

.form-group.full-width {
    grid-column: 1/-1
}

.form-group label {
    font-size: 14px;
    font-weight: 600;
    color: var(--primary);
    font-family: var(--font-heading)
}

.optional {
    font-weight: 400;
    color: #999
}

.char-count {
    color: #999;
    font-size: 12px;
    text-align: right
}

/* ========== MODAL ========== */
.modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px
}

.modal-box {
    background: var(--white);
    border-radius: var(--radius-lg);
    width: 520px;
    max-width: 95vw;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, .3);
    color: var(--dark)
}

.modal-box.modal-lg {
    width: 800px
}

.modal-box.modal-xl {
    width: 1000px
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 25px;
    border-bottom: 1px solid rgba(0, 0, 0, .08)
}

.modal-header h3 {
    font-size: 18px;
    color: var(--primary);
    font-family: var(--font-heading);
    font-weight: 600
}

.modal-close {
    background: none;
    border: none;
    color: #999;
    cursor: pointer;
    font-size: 1.1rem;
    padding: 4px
}

.modal-close:hover {
    color: var(--dark)
}

.modal-body {
    padding: 25px
}

.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding: 20px 25px;
    border-top: 1px solid rgba(0, 0, 0, .08)
}

/* ========== TOAST ========== */
.toast-msg {
    position: fixed;
    bottom: 24px;
    right: 24px;
    padding: 14px 22px;
    border-radius: var(--radius);
    font-size: 14px;
    z-index: 3000;
    display: flex;
    align-items: center;
    gap: 8px;
    transform: translateY(20px);
    opacity: 0;
    transition: all .3s;
    font-family: var(--font-heading);
    font-weight: 500;
    box-shadow: var(--shadow-lg)
}

.toast-msg.show {
    transform: translateY(0);
    opacity: 1
}

.toast-success {
    background: #2d6b47;
    color: white
}

.toast-error {
    background: #7a1f3a;
    color: white
}

.toast-info {
    background: var(--primary);
    color: white
}

/* ========== PLACEHOLDERS ========== */
.placeholder-page {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60vh;
    text-align: center;
    padding: 40px
}

.placeholder-icon {
    font-size: 4rem;
    margin-bottom: 20px
}

.placeholder-page h1 {
    font-size: 1.6rem;
    color: var(--primary);
    font-family: var(--font-heading);
    font-weight: 600;
    margin-bottom: 12px
}

.placeholder-desc {
    color: #666;
    font-size: 15px;
    max-width: 500px;
    line-height: 1.6;
    margin-bottom: 20px
}

.placeholder-badge {
    background: rgba(179, 161, 37, .1);
    color: var(--accent);
    padding: 6px 20px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 500;
    margin-bottom: 16px;
    font-family: var(--font-heading)
}

.placeholder-note {
    color: #999;
    font-size: 13px;
    max-width: 400px
}

.first-time-container {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 70vh
}

.first-time-card {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 40px;
    text-align: center;
    max-width: 420px;
    box-shadow: var(--shadow-lg)
}

.first-time-card h2 {
    margin-bottom: 12px;
    color: var(--primary);
    font-family: var(--font-heading)
}

.first-time-card p {
    color: #666;
    font-size: 15px;
    margin-bottom: 24px;
    line-height: 1.5
}

.first-time-actions {
    display: flex;
    gap: 12px;
    justify-content: center
}

/* ========== SCC DASHBOARD ========== */
.scc-dash {
    display: flex;
    flex-direction: column;
    gap: 24px;
    max-width: 1200px;
    margin: 0 auto
}

.scc-dash-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 20px
}

.scc-dash-title {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    color: var(--primary);
    font-weight: 700;
    margin-bottom: 6px
}

.scc-dash-title i {
    margin-right: 10px;
    color: var(--jelly-blue)
}

.scc-dash-subtitle {
    color: #777;
    font-size: 14px
}

/* Compliance Ring */
.scc-compliance-ring {
    position: relative;
    width: 90px;
    height: 90px;
    flex-shrink: 0
}

.scc-compliance-ring svg {
    width: 90px;
    height: 90px;
    transform: rotate(-90deg)
}

.ring-bg {
    fill: none;
    stroke: rgba(0, 0, 0, .08);
    stroke-width: 7
}

.ring-fill {
    fill: none;
    stroke-width: 7;
    stroke-linecap: round;
    transition: stroke-dasharray .6s ease
}

.ring-label {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center
}

.ring-num {
    font-family: var(--font-heading);
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary);
    line-height: 1
}

.ring-text {
    font-size: 9px;
    color: #888;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: .5px;
    margin-top: 2px
}

/* KPI Cards */
.scc-kpi-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px
}

.scc-kpi-card {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 20px;
    display: flex;
    align-items: flex-start;
    gap: 16px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(0, 0, 0, .05)
}

.kpi-icon {
    width: 44px;
    height: 44px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.1rem;
    flex-shrink: 0
}

.kpi-blue {
    background: rgba(68, 142, 157, .12);
    color: var(--jelly-blue)
}

.kpi-gold {
    background: rgba(179, 161, 37, .12);
    color: var(--gold)
}

.kpi-green {
    background: rgba(95, 128, 37, .12);
    color: var(--avocado)
}

.kpi-red {
    background: rgba(153, 21, 71, .12);
    color: var(--violet-red)
}

.kpi-num {
    font-family: var(--font-heading);
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary);
    line-height: 1
}

.kpi-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--dark);
    margin-top: 2px
}

.kpi-sub {
    font-size: 11px;
    color: #999;
    margin-top: 4px
}

/* Panels */
.scc-mid-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px
}

.scc-panel {
    background: var(--white);
    border-radius: var(--radius-lg);
    padding: 22px;
    box-shadow: var(--shadow);
    border: 1px solid rgba(0, 0, 0, .05)
}

.scc-panel-full {
    grid-column: 1/-1
}

.panel-header {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: var(--font-heading);
    font-size: .85rem;
    font-weight: 600;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: .5px;
    margin-bottom: 18px
}

.panel-header i {
    color: var(--jelly-blue);
    font-size: .9rem
}

.panel-link-btn {
    margin-left: auto;
    background: none;
    border: none;
    color: var(--jelly-blue);
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 0;
    font-family: var(--font-heading)
}

.panel-link-btn:hover {
    color: var(--primary)
}

/* Role Bars */
.role-bars {
    display: flex;
    flex-direction: column;
    gap: 12px
}

.role-bar-row {
    display: grid;
    grid-template-columns: 130px 1fr 30px;
    align-items: center;
    gap: 10px
}

.role-bar-label {
    font-size: 13px;
    color: #555;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis
}

.role-bar-track {
    height: 8px;
    background: rgba(0, 0, 0, .06);
    border-radius: 4px;
    overflow: hidden
}

.role-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--jelly-blue), var(--midnight));
    border-radius: 4px;
    transition: width .5s ease
}

.role-bar-count {
    font-size: 12px;
    font-weight: 600;
    color: var(--primary);
    text-align: right
}

/* Access Metrics */
.access-metrics {
    display: flex;
    flex-direction: column;
    gap: 14px
}

.metric-row {
    display: flex;
    flex-direction: column;
    gap: 5px
}

.metric-info {
    display: flex;
    justify-content: space-between;
    align-items: center
}

.metric-name {
    font-size: 13px;
    color: #555
}

.metric-val {
    font-size: 13px;
    font-weight: 600;
    color: var(--primary);
    font-family: var(--font-heading)
}

.metric-bar-track {
    height: 7px;
    background: rgba(0, 0, 0, .06);
    border-radius: 4px;
    overflow: hidden
}

.metric-bar-fill {
    height: 100%;
    border-radius: 4px;
    transition: width .5s ease
}

.metric-green {
    background: var(--avocado)
}

.metric-blue {
    background: var(--jelly-blue)
}

.metric-gold {
    background: var(--gold)
}

.metric-violet {
    background: var(--violet)
}

/* Audit Table */
.scc-audit-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px
}

.scc-audit-table th {
    padding: 8px 12px;
    text-align: left;
    font-family: var(--font-heading);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: .5px;
    color: #888;
    border-bottom: 2px solid rgba(0, 0, 0, .07);
    background: rgba(0, 0, 0, .02)
}

.scc-audit-table td {
    padding: 10px 12px;
    border-bottom: 1px solid rgba(0, 0, 0, .05);
    vertical-align: middle
}

.scc-audit-table tr:last-child td {
    border-bottom: none
}

.scc-audit-table tr:hover td {
    background: rgba(68, 142, 157, .04)
}

.audit-ts {
    color: #888;
    font-size: 12px;
    white-space: nowrap
}

.audit-user {
    color: var(--primary);
    font-weight: 500
}

.audit-detail {
    color: #777;
    font-size: 12px;
    max-width: 280px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap
}

.audit-badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 600;
    font-family: var(--font-heading);
    text-transform: uppercase;
    letter-spacing: .3px
}

.audit-success {
    background: rgba(95, 128, 37, .12);
    color: var(--avocado)
}

.audit-denied {
    background: rgba(153, 21, 71, .12);
    color: var(--violet-red)
}

.audit-failed {
    background: rgba(233, 172, 83, .15);
    color: #b07a1a
}

/* ========== COPILOT LANDING (Kernel Apps dashboard) ========== */
.copilot-landing {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: calc(100vh - var(--header-height) - 80px);
    padding: 40px 24px
}

.copilot-heading {
    color: var(--primary);
    font-size: 30px;
    font-weight: 600;
    font-family: var(--font-heading);
    text-align: center;
    margin: 0 0 28px;
    letter-spacing: -.2px
}

.copilot-input-bar {
    position: relative;
    width: 100%;
    max-width: 720px;
    height: 64px;
    background: var(--white);
    border-radius: 28px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, .08), 0 0 0 1px rgba(0, 0, 0, .04);
    display: flex;
    align-items: center;
    padding: 0 24px;
    transition: box-shadow .2s
}

.copilot-input-bar:focus-within {
    box-shadow: 0 4px 20px rgba(25, 62, 107, .12), 0 0 0 2px rgba(25, 62, 107, .15)
}

.copilot-input {
    flex: 1;
    border: none;
    outline: none;
    background: transparent;
    font-size: 16px;
    font-weight: 400;
    font-family: var(--font-body);
    color: var(--dark);
    height: 100%;
    position: relative;
    z-index: 2
}

.copilot-input::placeholder {
    color: transparent
}

/* Ghost placeholder overlay (for typewriter effect) */
.copilot-ghost {
    position: absolute;
    left: 24px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px;
    font-weight: 400;
    font-family: var(--font-body);
    color: #999;
    pointer-events: none;
    z-index: 1;
    white-space: nowrap;
    overflow: hidden;
    border-right: 2px solid #999;
    padding-right: 2px;
    animation: copilotBlink 1s step-end infinite
}

.copilot-ghost:empty {
    border-right-color: transparent;
    animation: none
}

@keyframes copilotBlink {
    50% {
        border-right-color: transparent
    }
}

/* ========== RESPONSIVE ========== */
@media(max-width:768px) {
    .dashboard-cards {
        grid-template-columns: 1fr
    }

    .dashboard-stats {
        grid-template-columns: repeat(2, 1fr)
    }

    .form-row {
        grid-template-columns: 1fr
    }

    .ecc-sidebar {
        display: none
    }

    .left-sidebar {
        position: fixed;
        z-index: 99;
        height: calc(100vh - var(--header-height));
        top: var(--header-height)
    }
}